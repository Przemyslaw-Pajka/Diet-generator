(this["webpackJsonpreact-kurs"]=this["webpackJsonpreact-kurs"]||[]).push([[0],{33:function(a,e,t){a.exports=t(65)},38:function(a,e,t){},39:function(a,e,t){},45:function(a,e,t){},46:function(a,e,t){},58:function(a,e,t){},59:function(a,e,t){},60:function(a,e,t){},61:function(a,e,t){},65:function(a,e,t){"use strict";t.r(e);var n=t(0),i=t.n(n),l=t(29),s=t.n(l),o=(t(38),t(18)),c=t(13),r=t(19),m=t(20),k=t(22),w=t(11),d=t(14),u=(t(39),function(){return i.a.createElement("header",null,i.a.createElement(w.b,{to:"/home"},i.a.createElement("h1",null,"Kreator Diety"),i.a.createElement("h2",null,"Stw\xf3rz swoj\u0105 diet\u0119"),i.a.createElement("h3",null,"Projekt niekomercyjny")))}),z=t(5),b=t(9),p=t(2),E=(t(45),Object(n.createContext)()),y=function(a){var e=Object(n.useState)({poniedzialek:{sniadanie:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},obiad:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},podwieczorek:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},kolacja:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}}},wtorek:{sniadanie:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},obiad:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},podwieczorek:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},kolacja:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}}},sroda:{sniadanie:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},obiad:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},podwieczorek:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},kolacja:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}}},czwartek:{sniadanie:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},obiad:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},podwieczorek:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},kolacja:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}}},piatek:{sniadanie:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},obiad:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},podwieczorek:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},kolacja:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}}},sobota:{sniadanie:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},obiad:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},podwieczorek:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},kolacja:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}}},niedziela:{sniadanie:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},obiad:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},podwieczorek:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}},kolacja:{nazwa:"Owsianka z suszonymi \u015bliwkami",kcal:100,waga:325,wartosci:{b:15.3,t:15.3,w:15.3},skladniki:{skladnik1:"100 ml",skladnik2:"200 ml"}}}}),t=Object(p.a)(e,2),l=t[0],s=t[1];return i.a.createElement(E.Provider,{value:[l,s]},a.children)},O=function(a,e,t,n,i,l){var s=["poniedzialek","wtorek","sroda","czwartek","piatek","sobota","niedziela"],o=["sniadanie","obiad","podwieczorek","kolacja"],c=[0,0,0,0],r=0,m=parseInt(a.current.value),k={},w={sniadanie:{},obiad:{},podwieczorek:{},kolacja:{}};for(var d in s)k[s[d]]=Object(b.a)({},w);if(isNaN(m))return alert("Uzupe\u0142nij prawid\u0142owo pole: Zak\u0142adana liczba kalorii"),!1;e(!0);var u=function(){c=Object.values(n).map((function(a){return Math.floor(Math.random()*a)}))},z=function(a){for(var e in o)k[a][o[e]]=Object(b.a)({},i[o[e]].posilki[c[e]])},p=function(a){for(var e in Object.values(k[a]))r+=Object.values(k[a])[e].kcal};if(m>3500||m<2e3)return alert("Brak wystarczaj\u0105cej ilo\u015bci posi\u0142k\xf3w w bazie dla wybranej ilo\u015bci kcal. Prosz\u0119 wybra\u0107 ilo\u015b\u0107 kcal z przedzia\u0142u 2000-3500."),e(!1),!1;s.map((function(a){u(),z(a),p(a),function a(e){if(m==r||(n=m,(t=r)>=m-100&&t<=n))return null;var t,n;r=0,u(),z(e),p(e),a(e)}(a)})),setTimeout((function(){e(!1),l((function(a){return Object(b.a)({},a,{},k)}))}),1500)},f=function(){return new Promise((function(a,e){var t,n=new XMLHttpRequest;n.open("GET","".concat("/diet-generator","/data.json")),n.send(),n.onreadystatechange=function(i){4==n.readyState&&(200==n.status&&(t=JSON.parse(JSON.parse(JSON.stringify(n.responseText))),a(t)),404==n.status&&e(new Error(n.statusText)))}}))},g=t(77),j=function(){return i.a.createElement("div",{className:"circularContainer"},i.a.createElement("h3",null,"Trwa generowanie diety..."),i.a.createElement(g.a,{color:"secondary"}))},N=function(){return i.a.createElement("div",null,"Niepowodzenie! Nie uda\u0142o si\u0119 pobra\u0107 danych potrzebnych do wygenerowania diety z serwera. Przepraszamy.")},h=function(a){return i.a.createElement("div",{className:"generateDietContainer"},i.a.createElement(w.b,{to:"/home/kreator/dzien/poniedzialek?dzien=poniedzialek"},i.a.createElement("button",{disabled:a.isError,className:"generateDietBtn",onClick:function(){return a.generateDiet()}},"Generuj diete")),i.a.createElement("form",{onSubmit:a.keyPressed},i.a.createElement("label",{htmlFor:"kcalAmount"},"Zak\u0142adana liczba kalorii: "),i.a.createElement("input",{ref:a.inputRef,id:"kcalAmount",type:"number"})))},v=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Przykro mi. Nie znaleziono takiej strony"))},S=(t(46),t(16)),T=t.n(S),D=(t(58),function(a){return i.a.createElement("li",{className:"mealSuggestion"},i.a.createElement("div",{className:"mealSuggestionName"},a.mealToShow.nazwa),i.a.createElement("ul",{className:"mealSuggestionsNutrientsList"},i.a.createElement("li",{className:"mealSuggestionsNutrient"},"(",a.mealToShow.kcal," kcal)"),i.a.createElement("li",{className:"mealSuggestionsNutrient"},"B: ",a.mealToShow.wartosci.b),i.a.createElement("li",{className:"mealSuggestionsNutrient"},"T: ",a.mealToShow.wartosci.t),i.a.createElement("li",{className:"mealSuggestionsNutrient"},"W: ",a.mealToShow.wartosci.w)),i.a.createElement("button",{className:"selectMealBtn",onClick:function(){a.setModalOpen(),a.mealNameHandler(a.mealToShow)}},"Wybierz"))}),C=(t(59),function(a){return i.a.createElement("div",{id:"modal",className:"modal"},i.a.createElement("ul",{className:"mealsSuggestionsList"},i.a.createElement("li",null,i.a.createElement("button",{id:"exitModal",className:"exitModal",onClick:a.setModalOpen},"X")),a.mealsData[a.mealTypeName.toLowerCase()].posilki.map((function(e,t){return i.a.createElement(D,{key:t,mealsData:a.mealsData,mealToShow:a.mealsData[a.mealTypeName.toLowerCase()].posilki[t],mealTypeName:a.mealTypeName,setModalOpen:a.setModalOpen,mealNameHandler:a.mealNameHandler})}))))}),P=function(a){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),l=t[0],s=t[1],o=T.a.parse(window.location.search).dzien,c=Object(n.useContext)(E),r=Object(p.a)(c,2),m=r[0],k=r[1],w=a.mealTypeName.toLowerCase(),d=function(){s(l=!l)};return i.a.createElement("li",{className:"mealItem"},i.a.createElement("div",{className:"mealInfoCol"},i.a.createElement("div",{className:"mealTypeName"},a.mealTypeName),i.a.createElement("div",{className:"mealName"},m[o][w].nazwa),i.a.createElement("div",{className:"mealKcal"},m[o][w].kcal," kcal"),i.a.createElement("div",{className:"mealWeight"},"\u0141\u0105czna waga porcji: ",m[o][w].waga),i.a.createElement("ul",{className:"mealNutrientsList"},i.a.createElement("li",{className:"mealNutrient"},"B: ",m[o][w].wartosci.b),i.a.createElement("li",{className:"mealNutrient"},"T: ",m[o][w].wartosci.t),i.a.createElement("li",{className:"mealNutrient"},"W: ",m[o][w].wartosci.w)),i.a.createElement("button",{className:"openModalBtn",onClick:d},"Wybierz posi\u0142ek"),l?i.a.createElement(C,{setModalOpen:d,mealsData:a.mealsData,mealTypeName:a.mealTypeName,mealNameHandler:function(a){k((function(e){return Object(b.a)({},e,Object(z.a)({},o,Object(b.a)({},e[o],Object(z.a)({},w,Object(b.a)({},a)))))}))}}):null),i.a.createElement("div",{className:"mealInfoCol"},i.a.createElement("p",null,"Sk\u0142adniki do posi\u0142ku:"),i.a.createElement("ol",{className:"mealIngredients"},Object.entries(m[o][w].skladniki).map((function(a,e){return i.a.createElement("li",{key:e},a.join(" "))})))))},M=(t(60),function(a){var e=Object(n.useContext)(E),t=Object(p.a)(e,2),l=t[0],s=(t[1],T.a.parse(window.location.search).dzien),o={kcal:0,wartosci:{b:0,t:0,w:0}};return Object.entries(l[s]).map((function(a){o.kcal+=a[1].kcal,o.wartosci.b+=a[1].wartosci.b,o.wartosci.t+=a[1].wartosci.t,o.wartosci.w+=a[1].wartosci.w})),i.a.createElement("div",{className:"daySummary"},i.a.createElement("div",{className:"daySummaryCol"},i.a.createElement("div",{className:"daySummaryTitle"},"Podsumowanie"),i.a.createElement("div",{className:"daySummaryKcal"},"\u0141\u0105cznie kalorii: ",o.kcal," kcal"),i.a.createElement("button",{className:"printBtn",onClick:function(){return window.print()}},"Drukuj jad\u0142ospis dnia")),i.a.createElement("div",{className:"daySummaryCol"},i.a.createElement("ul",{className:"nutrientsList"},i.a.createElement("div",{className:"daySummaryTitle"},"Warto\u015bci od\u017cywcze"),i.a.createElement("li",null,"Bia\u0142ko: ",o.wartosci.b.toFixed(1)," g"),i.a.createElement("li",null,"T\u0142uszcz: ",o.wartosci.t.toFixed(1)," g"),i.a.createElement("li",null,"W\u0119glowodany: ",o.wartosci.w.toFixed(1)," g"))))}),x=function(a){function e(){var a;return Object(o.a)(this,e),(a=Object(r.a)(this,Object(m.a)(e).call(this))).mealTypeName=["Sniadanie","Obiad","Podwieczorek","Kolacja"],a.state={isData:!1},a.data=null,a.name=T.a.parse(window.location.search),a}return Object(k.a)(e,a),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.data=this.props.mealsData,this.setState({isData:!0})}},{key:"componentDidUpdate",value:function(){this.name=T.a.parse(window.location.search)}},{key:"render",value:function(){var a=this;return this.state.isData?i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"mealsList"},this.mealTypeName.map((function(e,t){return a.rand=10*Math.random(),i.a.createElement(P,{key:"".concat(a.name.dzien,"-").concat(t),mealsData:a.data,mealTypeName:e,modalToggle:a.props.modalToggle})})),i.a.createElement(M,null))):null}}]),e}(n.Component),B=(t(61),function(){var a=["Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Piatek","Sobota","Niedziela"];return i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"daysbar"},["poniedzialek","wtorek","sroda","czwartek","piatek","sobota","niedziela"].map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement(w.c,{key:t,to:{pathname:"/home/kreator/dzien/".concat(e),search:"dzien=".concat(e)}},a[t]))}))))}),W=function(a){return i.a.createElement(d.d,null,a.isKeyPressed?i.a.createElement(d.a,{to:"/home/kreator/dzien/poniedzialek?dzien=poniedzialek"}):null,i.a.createElement(d.b,{path:"/home"},i.a.createElement(i.a.Fragment,null,a.isGenerating?i.a.createElement(j,null):null,i.a.createElement(h,{isError:a.isError,generateDiet:a.generateDietHandler,keyPressed:a.keyPressed,inputRef:a.input}),i.a.createElement(B,null),i.a.createElement(d.d,null,a.isError?i.a.createElement(N,null):i.a.createElement(d.b,{path:"/home/kreator/dzien",component:function(){return i.a.createElement(x,{mealsData:a.data})}}),i.a.createElement(d.b,{path:"/home/*",component:v}),i.a.createElement(d.b,{path:"/home/kreator/*",component:v})))),i.a.createElement(d.b,{path:"*",component:v}))},L=function(){var a={},e=f,t=Object(n.useRef)("kcalAmount"),l=["sniadanie","obiad","podwieczorek","kolacja"],s=Object(n.useContext)(E),o=Object(p.a)(s,2),c=(o[0],o[1]),r=Object(n.useState)(!1),m=Object(p.a)(r,2),k=m[0],w=m[1],d=Object(n.useState)(!1),u=Object(p.a)(d,2),y=u[0],g=u[1],j=Object(n.useState)(!1),N=Object(p.a)(j,2),h=N[0],v=N[1],S=Object(n.useState)(!1),T=Object(p.a)(S,2),D=T[0],C=T[1],P=Object(n.useState)(!1),M=Object(p.a)(P,2),x=M[0],B=M[1];Object(n.useEffect)((function(){e().then((function(e){w(e=e),l.map((function(t){a=Object(b.a)({},a,Object(z.a)({},t,e[t].posilki.length))})),g(a)})).catch((function(a){throw B(!0),new Error(a)}))}),[]),Object(n.useEffect)((function(){C(!1)}));var L=function(){O(t,v,h,y,k,c)};return i.a.createElement("main",{className:"cockpit"},i.a.createElement(W,{keyPressed:function(a){a.preventDefault(),C(!0),L()},generateDietHandler:L,isKeyPressed:D,isGenerating:h,isError:x,input:t,data:k}))},F=t(31),H=t.n(F)()({basename:"/diet-generator"}),I=function(a){function e(a){return Object(o.a)(this,e),Object(r.a)(this,Object(m.a)(e).call(this,a))}return Object(k.a)(e,a),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement(y,null,i.a.createElement(w.a,{history:H,basename:"/diet-generator"},i.a.createElement(d.b,{exact:!0,path:"/"},i.a.createElement(d.a,{to:"/home"})),i.a.createElement(u,null),i.a.createElement(L,null)))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(I,{superTitle:"My super React APP"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.b9b6eb92.chunk.js.map